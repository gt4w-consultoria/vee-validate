!(function(e, t) {
  'object' == typeof exports && 'undefined' != typeof module
    ? t(exports, require('vue'))
    : 'function' == typeof define && define.amd
    ? define(['exports', 'vue'], t)
    : t(((e = e || self).VeeValidate = {}), e.Vue);
})(this, function(e, t) {
  'use strict';
  t = t && Object.prototype.hasOwnProperty.call(t, 'default') ? t.default : t;
  var y = function() {
    return (y =
      Object.assign ||
      function(e) {
        for (var t, n = 1, r = arguments.length; n < r; n++)
          for (var i in (t = arguments[n])) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]);
        return e;
      }).apply(this, arguments);
  };
  function l(a, o, s, u) {
    return new (s = s || Promise)(function(e, t) {
      function n(e) {
        try {
          i(u.next(e));
        } catch (e) {
          t(e);
        }
      }
      function r(e) {
        try {
          i(u.throw(e));
        } catch (e) {
          t(e);
        }
      }
      function i(t) {
        t.done
          ? e(t.value)
          : new s(function(e) {
              e(t.value);
            }).then(n, r);
      }
      i((u = u.apply(a, o || [])).next());
    });
  }
  function b(n, r) {
    var i,
      a,
      o,
      s = {
        label: 0,
        sent: function() {
          if (1 & o[0]) throw o[1];
          return o[1];
        },
        trys: [],
        ops: []
      },
      e = { next: t(0), throw: t(1), return: t(2) };
    return (
      'function' == typeof Symbol &&
        (e[Symbol.iterator] = function() {
          return this;
        }),
      e
    );
    function t(t) {
      return function(e) {
        return (function(t) {
          if (i) throw new TypeError('Generator is already executing.');
          for (; s; )
            try {
              if (
                ((i = 1),
                a &&
                  (o = 2 & t[0] ? a.return : t[0] ? a.throw || ((o = a.return) && o.call(a), 0) : a.next) &&
                  !(o = o.call(a, t[1])).done)
              )
                return o;
              switch (((a = 0), (t = o ? [2 & t[0], o.value] : t)[0])) {
                case 0:
                case 1:
                  o = t;
                  break;
                case 4:
                  return s.label++, { value: t[1], done: !1 };
                case 5:
                  s.label++, (a = t[1]), (t = [0]);
                  continue;
                case 7:
                  (t = s.ops.pop()), s.trys.pop();
                  continue;
                default:
                  if (!(o = 0 < (o = s.trys).length && o[o.length - 1]) && (6 === t[0] || 2 === t[0])) {
                    s = 0;
                    continue;
                  }
                  if (3 === t[0] && (!o || (t[1] > o[0] && t[1] < o[3]))) {
                    s.label = t[1];
                    break;
                  }
                  if (6 === t[0] && s.label < o[1]) {
                    (s.label = o[1]), (o = t);
                    break;
                  }
                  if (o && s.label < o[2]) {
                    (s.label = o[2]), s.ops.push(t);
                    break;
                  }
                  o[2] && s.ops.pop(), s.trys.pop();
                  continue;
              }
              t = r.call(n, s);
            } catch (e) {
              (t = [6, e]), (a = 0);
            } finally {
              i = o = 0;
            }
          if (5 & t[0]) throw t[1];
          return { value: t[0] ? t[1] : void 0, done: !0 };
        })([t, e]);
      };
    }
  }
  function s() {
    for (var e = 0, t = 0, n = arguments.length; t < n; t++) e += arguments[t].length;
    for (var r = Array(e), i = 0, t = 0; t < n; t++)
      for (var a = arguments[t], o = 0, s = a.length; o < s; o++, i++) r[i] = a[o];
    return r;
  }
  function r(e) {
    return e != e;
  }
  function c(e) {
    return null == e;
  }
  var _ = function(e) {
    return null !== e && e && 'object' == typeof e && !Array.isArray(e);
  };
  function i(t, n) {
    if (t instanceof RegExp && n instanceof RegExp) return i(t.source, n.source) && i(t.flags, n.flags);
    if (Array.isArray(t) && Array.isArray(n)) {
      if (t.length !== n.length) return !1;
      for (var e = 0; e < t.length; e++) if (!i(t[e], n[e])) return !1;
      return !0;
    }
    return _(t) && _(n)
      ? Object.keys(t).every(function(e) {
          return i(t[e], n[e]);
        }) &&
          Object.keys(n).every(function(e) {
            return i(t[e], n[e]);
          })
      : !(!r(t) || !r(n)) || t === n;
  }
  function a(e) {
    return '' !== e && !c(e);
  }
  function o(e) {
    return 'function' == typeof e;
  }
  function O(e) {
    return o(e) && !!e.__locatorRef;
  }
  function n(e, t) {
    var n = Array.isArray(e) ? e : d(e);
    if (o(n.findIndex)) return n.findIndex(t);
    for (var r = 0; r < n.length; r++) if (t(n[r], r)) return r;
    return -1;
  }
  function u(e, t) {
    return -1 !== e.indexOf(t);
  }
  function d(e) {
    return o(Array.from)
      ? Array.from(e)
      : (function(e) {
          for (var t = [], n = e.length, r = 0; r < n; r++) t.push(e[r]);
          return t;
        })(e);
  }
  function f(t) {
    return o(Object.values)
      ? Object.values(t)
      : Object.keys(t).map(function(e) {
          return t[e];
        });
  }
  function v(t, n) {
    return (
      Object.keys(n).forEach(function(e) {
        return _(n[e]) ? (t[e] || (t[e] = {}), void v(t[e], n[e])) : void (t[e] = n[e]);
      }),
      t
    );
  }
  function h() {
    return {
      untouched: !0,
      touched: !1,
      dirty: !1,
      pristine: !0,
      valid: !1,
      invalid: !1,
      validated: !1,
      pending: !1,
      required: !1,
      changed: !1,
      passed: !1,
      failed: !1
    };
  }
  function p(e) {
    return e;
  }
  function m(n, r, i) {
    return (
      void 0 === i && (i = { cancelled: !1 }),
      0 === (r = void 0 === r ? 0 : r)
        ? n
        : function() {
            for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
            clearTimeout(a),
              (a = setTimeout(function() {
                (a = void 0), i.cancelled || n.apply(void 0, e);
              }, r));
          }
    );
    var a;
  }
  function R(e, n) {
    return e.replace(/{([^}]+)}/g, function(e, t) {
      return t in n ? n[t] : '{' + t + '}';
    });
  }
  var g = {};
  var $ =
    ((A.extend = function(e, t) {
      var n,
        r,
        n =
          (null !== (r = (n = t).params) &&
            void 0 !== r &&
            r.length &&
            (n.params = n.params.map(function(e) {
              return 'string' == typeof e ? { name: e } : e;
            })),
          n);
      g[e] ? (g[e] = v(g[e], t)) : (g[e] = y({ lazy: !1, computesRequired: !1 }, n));
    }),
    (A.isLazy = function(e) {
      return !(null === (e = g[e]) || void 0 === e || !e.lazy);
    }),
    (A.isRequireRule = function(e) {
      return !(null === (e = g[e]) || void 0 === e || !e.computesRequired);
    }),
    (A.getRuleDefinition = function(e) {
      return g[e];
    }),
    A);
  function A() {}
  function E(e) {
    x = y(y({}, x), e);
  }
  var x = y(
      {},
      {
        defaultMessage: '{_field_} is not valid.',
        skipOptional: !0,
        classes: {
          touched: 'touched',
          untouched: 'untouched',
          valid: 'valid',
          invalid: 'invalid',
          pristine: 'pristine',
          dirty: 'dirty'
        },
        bails: !0,
        mode: 'aggressive',
        useConstraintAttrs: !0
      }
    ),
    k = function() {
      return x;
    };
  function w(r) {
    var e = {};
    return (
      Object.defineProperty(e, '_$$isNormalized', { value: !0, writable: !1, enumerable: !1, configurable: !1 }),
      r
        ? _(r) && r._$$isNormalized
          ? r
          : _(r)
          ? Object.keys(r).reduce(function(e, t) {
              var n = [],
                n = !0 === r[t] ? [] : Array.isArray(r[t]) || _(r[t]) ? r[t] : [r[t]];
              return !1 !== r[t] && (e[t] = j(t, n)), e;
            }, e)
          : 'string' != typeof r
          ? (console.warn('[vee-validate] rules must be either a string or an object.'), e)
          : r.split('|').reduce(function(e, t) {
              t = V(t);
              return t.name && (e[t.name] = j(t.name, t.params)), e;
            }, e)
        : e
    );
  }
  function j(e, t) {
    var r = $.getRuleDefinition(e);
    if (!r) return t;
    var i,
      n,
      a = {};
    if (!r.params && !Array.isArray(t))
      throw new Error('You provided an object params to a rule that has no defined schema.');
    if (Array.isArray(t) && !r.params) return t;
    n =
      !r.params || (r.params.length < t.length && Array.isArray(t))
        ? t.map(function(e, t) {
            var n,
              t = null === (n = r.params) || void 0 === n ? void 0 : n[t];
            return (i = t || i), (t = t || i);
          })
        : r.params;
    for (var o = 0; o < n.length; o++) {
      var s = n[o],
        u = s.default;
      Array.isArray(t) ? o in t && (u = t[o]) : s.name in t ? (u = t[s.name]) : 1 === n.length && (u = t),
        !O((u = 'string' == typeof (u = s.isTarget ? z(u, s.cast) : u) && '@' === u[0] ? z(u.slice(1), s.cast) : u)) &&
          s.cast &&
          (u = s.cast(u)),
        a[s.name]
          ? ((a[s.name] = Array.isArray(a[s.name]) ? a[s.name] : [a[s.name]]), a[s.name].push(u))
          : (a[s.name] = u);
    }
    return a;
  }
  var V = function(e) {
    var t = [];
    return {
      name: e.split(':')[0],
      params: (t = u(e, ':')
        ? e
            .split(':')
            .slice(1)
            .join(':')
            .split(',')
        : t)
    };
  };
  function z(t, n) {
    function e(e) {
      return (e = e[t]), n ? n(e) : e;
    }
    return (e.__locatorRef = t), e;
  }
  function I(o, s, u) {
    return (
      void 0 === u && (u = {}),
      l(this, void 0, void 0, function() {
        var t, n, r, i, a;
        return b(this, function(e) {
          switch (e.label) {
            case 0:
              return (
                (t = null == u ? void 0 : u.bails),
                (n = null == u ? void 0 : u.skipIfEmpty),
                [
                  4,
                  (function(o, s, e) {
                    var e = (void 0 === e ? {} : e).isInitial,
                      u = void 0 !== e && e;
                    return l(this, void 0, void 0, function() {
                      var t, n, r, i, a;
                      return b(this, function(e) {
                        switch (e.label) {
                          case 0:
                            return [
                              4,
                              (function(d, f) {
                                return l(this, void 0, void 0, function() {
                                  var n, r, i, a, o, s, u, l;
                                  return b(this, function(e) {
                                    switch (e.label) {
                                      case 0:
                                        (n = Object.keys(d.rules).filter($.isRequireRule)),
                                          (r = n.length),
                                          (i = []),
                                          (a = c(f) || '' === f || ((t = f), Array.isArray(t) && 0 === t.length)),
                                          (o = a && d.skipIfEmpty),
                                          (s = !1),
                                          (u = 0),
                                          (e.label = 1);
                                      case 1:
                                        return u < r
                                          ? ((l = n[u]), [4, S(d, f, { name: l, params: d.rules[l] })])
                                          : [3, 4];
                                      case 2:
                                        if (((l = e.sent()), !_(l)))
                                          throw new Error('Require rules has to return an object (see docs)');
                                        if ((l.required && (s = !0), !l.valid && l.error && (i.push(l.error), d.bails)))
                                          return [2, { shouldSkip: !0, errors: i }];
                                        e.label = 3;
                                      case 3:
                                        return u++, [3, 1];
                                      case 4:
                                        return !a || s || d.skipIfEmpty
                                          ? d.bails || o
                                            ? [2, { shouldSkip: !s && a, errors: i }]
                                            : [2, { shouldSkip: !1, errors: i }]
                                          : [2, { shouldSkip: !1, errors: i }];
                                    }
                                    var t;
                                  });
                                });
                              })(o, s)
                            ];
                          case 1:
                            if (((r = e.sent()), (i = r.shouldSkip), (t = r.errors), i))
                              return [2, { valid: !t.length, errors: t }];
                            (n = Object.keys(o.rules).filter(function(e) {
                              return !$.isRequireRule(e);
                            })),
                              (r = n.length),
                              (i = 0),
                              (e.label = 2);
                          case 2:
                            return i < r
                              ? u && $.isLazy(n[i])
                                ? [3, 4]
                                : ((a = n[i]), [4, S(o, s, { name: a, params: o.rules[a] })])
                              : [3, 5];
                          case 3:
                            if (!(a = e.sent()).valid && a.error && (t.push(a.error), o.bails))
                              return [2, { valid: !1, errors: t }];
                            e.label = 4;
                          case 4:
                            return i++, [3, 2];
                          case 5:
                            return [2, { valid: !t.length, errors: t }];
                        }
                      });
                    });
                  })(
                    {
                      name: (null == u ? void 0 : u.name) || '{field}',
                      rules: w(s),
                      bails: null == t || t,
                      skipIfEmpty: null == n || n,
                      forceRequired: !1,
                      crossTable: (null == u ? void 0 : u.values) || {},
                      names: (null == u ? void 0 : u.names) || {},
                      customMessages: (null == u ? void 0 : u.customMessages) || {}
                    },
                    o,
                    u
                  )
                ]
              );
            case 1:
              return (
                (n = e.sent()),
                (r = []),
                (i = {}),
                (a = {}),
                n.errors.forEach(function(e) {
                  var t = e.msg();
                  r.push(t), (i[e.rule] = t), (a[e.rule] = e.msg);
                }),
                [2, { valid: n.valid, errors: r, failedRules: i, regenerateMap: a }]
              );
          }
        });
      })
    );
  }
  function S(p, m, g) {
    return l(this, void 0, void 0, function() {
      var d, f, c, v, h;
      return b(this, function(e) {
        switch (e.label) {
          case 0:
            if (!(d = $.getRuleDefinition(g.name)) || !d.validate)
              throw new Error("No such validator '" + g.name + "' exists.");
            return (
              (f = d.castValue ? d.castValue(m) : m),
              (c = (function(t, n) {
                if (Array.isArray(t)) return t;
                var r = {};
                return (
                  Object.keys(t).forEach(function(e) {
                    r[e] = O((e = t[e])) ? e(n) : e;
                  }),
                  r
                );
              })(g.params, p.crossTable)),
              [4, d.validate(f, c)]
            );
          case 1:
            return 'string' == typeof (v = e.sent())
              ? ((h = y(y({}, c || {}), { _field_: p.name, _value_: m, _rule_: g.name })),
                [
                  2,
                  {
                    valid: !1,
                    error: {
                      rule: g.name,
                      msg: function() {
                        return R(v, h);
                      }
                    }
                  }
                ])
              : [
                  2,
                  {
                    valid: (v = !_(v) ? { valid: v } : v).valid,
                    required: v.required,
                    error: v.valid
                      ? void 0
                      : ((r = p),
                        (t = m),
                        (n = d),
                        (i = g.name),
                        (a = c),
                        (o = null !== (s = r.customMessages[i]) && void 0 !== s ? s : n.message),
                        (s = (function(e, t, n) {
                          var r = t.params;
                          if (!r) return {};
                          if (
                            r.filter(function(e) {
                              return e.isTarget;
                            }).length <= 0
                          )
                            return {};
                          var i = {},
                            a = e.rules[n];
                          !Array.isArray(a) &&
                            _(a) &&
                            (a = r.map(function(e) {
                              return a[e.name];
                            }));
                          for (var o = 0; o < r.length; o++) {
                            var s,
                              u = r[o],
                              l = a[o];
                            O(l) &&
                              ((l = l.__locatorRef),
                              (s = e.names[l] || l),
                              (i[u.name] = s),
                              (i['_' + u.name + '_'] = e.crossTable[l]));
                          }
                          return i;
                        })(r, n, i)),
                        (n = (function(n, e, t, r) {
                          var i = {},
                            a = n.rules[t],
                            o = e.params || [];
                          return a
                            ? (Object.keys(a).forEach(function(e, t) {
                                e = a[e];
                                if (!O(e)) return {};
                                t = o[t];
                                if (!t) return {};
                                e = e.__locatorRef;
                                (i[t.name] = n.names[e] || e), (i['_' + t.name + '_'] = n.crossTable[e]);
                              }),
                              { userTargets: i, userMessage: r })
                            : {};
                        })(r, n, i, o)),
                        (o = n.userTargets),
                        (u = n.userMessage),
                        (l = y(y(y(y({}, a || {}), { _field_: r.name, _value_: t, _rule_: i }), s), o)),
                        {
                          msg: function() {
                            return (
                              (e = u || k().defaultMessage),
                              (t = r.name),
                              (n = l),
                              'function' != typeof e ? R(e, y(y({}, n), { _field_: t })) : e(t, n)
                            );
                            var e, t, n;
                          },
                          rule: i
                        })
                  }
                ];
        }
        var r, t, n, i, a, o, s, u, l;
      });
    });
  }
  var q = {
      aggressive: function() {
        return { on: ['input', 'blur'] };
      },
      eager: function(e) {
        return e.errors.length ? { on: ['input', 'change'] } : { on: ['change', 'blur'] };
      },
      passive: function() {
        return { on: [] };
      },
      lazy: function() {
        return { on: ['change'] };
      }
    },
    D = new t();
  function M() {
    D.$emit('change:locale');
  }
  var N,
    T =
      ((B.prototype.resolve = function(e, t, n) {
        return this.format(this.locale, e, t, n);
      }),
      (B.prototype.format = function(e, t, n, r) {
        var i,
          n =
            (null ===
              (i =
                null === (i = null === (i = this.container[e]) || void 0 === i ? void 0 : i.fields) || void 0 === i
                  ? void 0
                  : i[t]) || void 0 === i
              ? void 0
              : i[n]) ||
            (null === (i = null === (i = this.container[e]) || void 0 === i ? void 0 : i.messages) || void 0 === i
              ? void 0
              : i[n]);
        return (
          (t =
            null !==
              (e =
                null === (e = null === (e = this.container[e]) || void 0 === e ? void 0 : e.names) || void 0 === e
                  ? void 0
                  : e[t]) && void 0 !== e
              ? e
              : t),
          o((n = n || '{field} is not valid')) ? n(t, r) : R(n, y(y({}, r), { _field_: t }))
        );
      }),
      (B.prototype.merge = function(e) {
        v(this.container, e);
      }),
      (B.prototype.hasRule = function(e) {
        var t;
        return !(
          null === (t = null === (t = this.container[this.locale]) || void 0 === t ? void 0 : t.messages) ||
          void 0 === t ||
          !t[e]
        );
      }),
      B);
  function B(e, t) {
    (this.container = {}), (this.locale = e), this.merge(t);
  }
  function F(e) {
    if (!(t = e) || (!('undefined' != typeof Event && o(Event) && t instanceof Event) && (!t || !t.srcElement)))
      return e;
    var t = e.target;
    if ('file' === t.type && t.files) return d(t.files);
    if (null !== (e = t._vModifiers) && void 0 !== e && e.number) {
      var n = parseFloat(t.value);
      return r(n) ? t.value : n;
    }
    return null !== (n = t._vModifiers) && void 0 !== n && n.trim && 'string' == typeof t.value
      ? t.value.trim()
      : t.value;
  }
  var P = function(e) {
    var t = (null === (t = e.data) || void 0 === t ? void 0 : t.attrs) || e.elm;
    return (
      !('input' !== e.tag || (t && t.type)) ||
      'textarea' === e.tag ||
      u(['text', 'password', 'search', 'email', 'tel', 'url', 'number'], null == t ? void 0 : t.type)
    );
  };
  function W(e) {
    if (e.data) {
      var t = e.data;
      return 'model' in t
        ? t.model
        : e.data.directives
        ? ((t = e.data.directives),
          (e = function(e) {
            return 'model' === e.name;
          }),
          (t = Array.isArray(t) ? t : d(t)),
          -1 === (e = n(t, e)) ? void 0 : t[e])
        : void 0;
    }
  }
  function C(e) {
    var t = W(e);
    if (t) return { value: t.value };
    var n = L(e),
      t = (null == n ? void 0 : n.prop) || 'value';
    return null !== (n = e.componentOptions) && void 0 !== n && n.propsData && t in e.componentOptions.propsData
      ? { value: e.componentOptions.propsData[t] }
      : null !== (t = e.data) && void 0 !== t && t.domProps && 'value' in e.data.domProps
      ? { value: e.data.domProps.value }
      : void 0;
  }
  function H(e) {
    return Array.isArray(e) || void 0 === C(e)
      ? ((t = e),
        Array.isArray(t)
          ? t
          : Array.isArray(t.children)
          ? t.children
          : t.componentOptions && Array.isArray(t.componentOptions.children)
          ? t.componentOptions.children
          : []).reduce(function(e, t) {
          t = H(t);
          return t.length && e.push.apply(e, t), e;
        }, [])
      : [e];
    var t;
  }
  function L(e) {
    return e.componentOptions ? e.componentOptions.Ctor.options.model : null;
  }
  function G(e, t, n) {
    if (c(e[t])) e[t] = [n];
    else {
      if (o(e[t]) && e[t].fns) {
        var r = e[t];
        return (r.fns = Array.isArray(r.fns) ? r.fns : [r.fns]), void (u(r.fns, n) || r.fns.push(n));
      }
      o(e[t]) && ((r = e[t]), (e[t] = [r])), Array.isArray(e[t]) && !u(e[t], n) && e[t].push(n);
    }
  }
  function Y(e, t, n) {
    if (e.componentOptions)
      return (
        (i = t),
        (a = n),
        void (
          (r = e).componentOptions &&
          (r.componentOptions.listeners || (r.componentOptions.listeners = {}), G(r.componentOptions.listeners, i, a))
        )
      );
    var r, i, a;
    (t = t), (n = n), (e = e).data || (e.data = {}), c(e.data.on) && (e.data.on = {}), G(e.data.on, t, n);
  }
  function J(e, t) {
    return e.componentOptions
      ? (L(e) || { event: 'input' }).event
      : (null === (t = null == t ? void 0 : t.modifiers) || void 0 === t || !t.lazy) && P(e)
      ? 'input'
      : 'change';
  }
  function K(e) {
    var t = null === (n = e.data) || void 0 === n ? void 0 : n.attrs;
    if (!u(['input', 'select', 'textarea'], e.tag) || !t) return {};
    var n = {};
    return (
      'required' in t &&
        !1 !== t.required &&
        $.getRuleDefinition('required') &&
        (n.required = 'checkbox' !== t.type || [!0]),
      P(e)
        ? w(
            y(
              y({}, n),
              ((t = null === (e = (t = e).data) || void 0 === e ? void 0 : e.attrs),
              (e = {}),
              t &&
                ('email' === t.type && $.getRuleDefinition('email') && (e.email = ['multiple' in t]),
                t.pattern && $.getRuleDefinition('regex') && (e.regex = t.pattern),
                0 <= t.maxlength && $.getRuleDefinition('max') && (e.max = t.maxlength),
                0 <= t.minlength && $.getRuleDefinition('min') && (e.min = t.minlength),
                'number' === t.type &&
                  (a(t.min) && $.getRuleDefinition('min_value') && (e.min_value = Number(t.min)),
                  a(t.max) && $.getRuleDefinition('max_value') && (e.max_value = Number(t.max)))),
              e)
            )
          )
        : w(n)
    );
  }
  function Q(e, t) {
    return e.$scopedSlots.default ? e.$scopedSlots.default(t) || [] : e.$slots.default || [];
  }
  function U(n) {
    return y(y({}, n.flags), {
      errors: n.errors,
      classes: n.classes,
      failedRules: n.failedRules,
      reset: function() {
        return n.reset();
      },
      validate: function() {
        for (var e = [], t = 0; t < arguments.length; t++) e[t] = arguments[t];
        return n.validate.apply(n, e);
      },
      ariaInput: {
        'aria-invalid': n.flags.invalid ? 'true' : 'false',
        'aria-required': n.isRequired ? 'true' : 'false',
        'aria-errormessage': 'vee_' + n.id
      },
      ariaMsg: { id: 'vee_' + n.id, 'aria-live': n.errors.length ? 'assertive' : 'off' }
    });
  }
  function X(e, t) {
    e.initialized || (e.initialValue = t);
    var n,
      r,
      r =
        ((r = t),
        !((n = e)._ignoreImmediate || !n.immediate) ||
          !(n.value === r || !n.normalizedEvents.length) ||
          !!n._needsValidation ||
          (!n.initialized && void 0 === r));
    (e._needsValidation = !1),
      (e.value = t),
      (e._ignoreImmediate = !0),
      r &&
        ((r = function() {
          if (e.immediate || e.flags.validated) return ee(e);
          e.validateSilent();
        }),
        e.initialized ? r() : e.$once('hook:mounted', r));
  }
  function Z(e) {
    return (o(e.mode) ? e.mode : q[e.mode])(e);
  }
  function ee(t) {
    var n = t.validateSilent();
    return (t._pendingValidation = n).then(function(e) {
      return n === t._pendingValidation && (t.applyResult(e), (t._pendingValidation = void 0)), e;
    });
  }
  function te(t) {
    t.$veeOnInput ||
      (t.$veeOnInput = function(e) {
        t.syncValue(e), t.setFlags({ dirty: !0, pristine: !1 });
      });
    var e = t.$veeOnInput;
    t.$veeOnBlur ||
      (t.$veeOnBlur = function() {
        t.setFlags({ touched: !0, untouched: !1 });
      });
    var n = t.$veeOnBlur,
      r = t.$veeHandler,
      i = Z(t);
    return (
      (r && t.$veeDebounce === t.debounce) ||
        ((r = m(function() {
          t.$nextTick(function() {
            t._pendingReset || ee(t), (t._pendingReset = !1);
          });
        }, i.debounce || t.debounce)),
        (t.$veeHandler = r),
        (t.$veeDebounce = t.debounce)),
      { onInput: e, onBlur: n, onValidate: r }
    );
  }
  var ne = 0;
  var re = t.extend({
    inject: {
      $_veeObserver: {
        from: '$_veeObserver',
        default: function() {
          return (
            this.$vnode.context.$_veeObserver ||
              (this.$vnode.context.$_veeObserver = {
                refs: {},
                observe: function(e) {
                  this.refs[e.id] = e;
                },
                unobserve: function(e) {
                  delete this.refs[e];
                }
              }),
            this.$vnode.context.$_veeObserver
          );
        }
      }
    },
    props: {
      vid: { type: String, default: '' },
      name: { type: String, default: null },
      mode: {
        type: [String, Function],
        default: function() {
          return k().mode;
        }
      },
      rules: { type: [Object, String], default: null },
      immediate: { type: Boolean, default: !1 },
      bails: {
        type: Boolean,
        default: function() {
          return k().bails;
        }
      },
      skipIfEmpty: {
        type: Boolean,
        default: function() {
          return k().skipOptional;
        }
      },
      debounce: { type: Number, default: 0 },
      tag: { type: String, default: 'span' },
      slim: { type: Boolean, default: !1 },
      disabled: { type: Boolean, default: !1 },
      customMessages: {
        type: Object,
        default: function() {
          return {};
        }
      }
    },
    watch: {
      rules: {
        deep: !0,
        handler: function(e, t) {
          this._needsValidation = !i(e, t);
        }
      }
    },
    data: function() {
      return {
        errors: [],
        value: void 0,
        initialized: !1,
        initialValue: void 0,
        flags: h(),
        failedRules: {},
        isActive: !0,
        fieldName: '',
        id: ''
      };
    },
    computed: {
      fieldDeps: function() {
        var r = this;
        return Object.keys(this.normalizedRules).reduce(function(e, t) {
          var n,
            t =
              ((n = r.normalizedRules[t]),
              (Array.isArray(n)
                ? n.filter(O)
                : Object.keys(n)
                    .filter(function(e) {
                      return O(n[e]);
                    })
                    .map(function(e) {
                      return n[e];
                    })
              ).map(function(e) {
                return e.__locatorRef;
              }));
          return (
            e.push.apply(e, t),
            t.forEach(function(e) {
              !(function e(t, n, r) {
                void 0 === r && (r = !0);
                var i = t.$_veeObserver.refs;
                t._veeWatchers || (t._veeWatchers = {});
                if (!i[n] && r)
                  return t.$once('hook:mounted', function() {
                    e(t, n, !1);
                  });
                !o(t._veeWatchers[n]) &&
                  i[n] &&
                  (t._veeWatchers[n] = i[n].$watch('value', function() {
                    t.flags.validated && ((t._needsValidation = !0), t.validate());
                  }));
              })(r, e);
            }),
            e
          );
        }, []);
      },
      normalizedEvents: function() {
        var t = this;
        return (Z(this).on || []).map(function(e) {
          return 'input' === e ? t._inputEventName : e;
        });
      },
      isRequired: function() {
        var e = y(y({}, this._resolvedRules), this.normalizedRules),
          e = Object.keys(e).some($.isRequireRule);
        return (this.flags.required = !!e), e;
      },
      classes: function() {
        return (function(r, i) {
          for (var a = {}, o = Object.keys(i), e = o.length, t = 0; t < e; t++)
            !(function(e) {
              var t = o[e],
                e = (r && r[t]) || t,
                n = i[t];
              !c(n) &&
                (('valid' !== t && 'invalid' !== t) || i.validated) &&
                ('string' == typeof e
                  ? (a[e] = n)
                  : Array.isArray(e) &&
                    e.forEach(function(e) {
                      a[e] = n;
                    }));
            })(t);
          return a;
        })(k().classes, this.flags);
      },
      normalizedRules: function() {
        return w(this.rules);
      }
    },
    mounted: function() {
      function e() {
        if (t.flags.validated) {
          var n = t._regenerateMap;
          if (n) {
            var r = [],
              i = {};
            return (
              Object.keys(n).forEach(function(e) {
                var t = n[e]();
                r.push(t), (i[e] = t);
              }),
              void t.applyResult({ errors: r, failedRules: i, regenerateMap: n })
            );
          }
          t.validate();
        }
      }
      var t = this;
      D.$on('change:locale', e),
        this.$on('hook:beforeDestroy', function() {
          D.$off('change:locale', e);
        });
    },
    render: function(e) {
      var r = this;
      this.registerField();
      var t = Q(this, U(this));
      return (
        H(t).forEach(function(e) {
          var t,
            n = k().useConstraintAttrs ? K(e) : {};
          i(r._resolvedRules, n) || (r._needsValidation = !0),
            u(['input', 'select', 'textarea'], e.tag) &&
              (r.fieldName =
                (null === (t = null === (t = e.data) || void 0 === t ? void 0 : t.attrs) || void 0 === t
                  ? void 0
                  : t.name) ||
                (null === (t = null === (t = e.data) || void 0 === t ? void 0 : t.attrs) || void 0 === t
                  ? void 0
                  : t.id)),
            (r._resolvedRules = n),
            (function(e, t) {
              var n = C(t);
              (e._inputEventName = e._inputEventName || J(t, W(t))), X(e, null == n ? void 0 : n.value);
              var r = te(e),
                i = r.onInput,
                n = r.onBlur,
                a = r.onValidate;
              Y(t, e._inputEventName, i),
                Y(t, 'blur', n),
                e.normalizedEvents.forEach(function(e) {
                  Y(t, e, a);
                }),
                (e.initialized = !0);
            })(r, e);
        }),
        this.slim && t.length <= 1 ? t[0] : e(this.tag, t)
      );
    },
    beforeDestroy: function() {
      this.$_veeObserver.unobserve(this.id);
    },
    activated: function() {
      this.isActive = !0;
    },
    deactivated: function() {
      this.isActive = !1;
    },
    methods: {
      setFlags: function(t) {
        var n = this;
        Object.keys(t).forEach(function(e) {
          n.flags[e] = t[e];
        });
      },
      syncValue: function(e) {
        e = F(e);
        (this.value = e), (this.flags.changed = this.initialValue !== e);
      },
      reset: function() {
        var e = this;
        (this.errors = []), (this.initialValue = this.value);
        var t = h();
        (t.required = this.isRequired),
          this.setFlags(t),
          (this.failedRules = {}),
          this.validateSilent(),
          (this._pendingValidation = void 0),
          (this._pendingReset = !0),
          setTimeout(function() {
            e._pendingReset = !1;
          }, this.debounce);
      },
      validate: function() {
        for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
        return l(this, void 0, void 0, function() {
          return b(this, function(e) {
            return 0 < t.length && this.syncValue(t[0]), [2, ee(this)];
          });
        });
      },
      validateSilent: function() {
        return l(this, void 0, void 0, function() {
          var r;
          return b(this, function(e) {
            switch (e.label) {
              case 0:
                return (
                  this.setFlags({ pending: !0 }),
                  (r = y(y({}, this._resolvedRules), this.normalizedRules)),
                  Object.defineProperty(r, '_$$isNormalized', {
                    value: !0,
                    writable: !1,
                    enumerable: !1,
                    configurable: !1
                  }),
                  [
                    4,
                    I(
                      this.value,
                      r,
                      y(
                        y(
                          { name: this.name || this.fieldName },
                          ((n = (t = this).$_veeObserver.refs),
                          t.fieldDeps.reduce(
                            function(e, t) {
                              return n[t] && ((e.values[t] = n[t].value), (e.names[t] = n[t].name)), e;
                            },
                            { names: {}, values: {} }
                          ))
                        ),
                        {
                          bails: this.bails,
                          skipIfEmpty: this.skipIfEmpty,
                          isInitial: !this.initialized,
                          customMessages: this.customMessages
                        }
                      )
                    )
                  ]
                );
              case 1:
                return (r = e.sent()), this.setFlags({ pending: !1, valid: r.valid, invalid: !r.valid }), [2, r];
            }
            var t, n;
          });
        });
      },
      setErrors: function(e) {
        this.applyResult({ errors: e, failedRules: {} });
      },
      applyResult: function(e) {
        var t = e.errors,
          n = e.failedRules,
          e = e.regenerateMap;
        (this.errors = t),
          (this._regenerateMap = e),
          (this.failedRules = y({}, n || {})),
          this.setFlags({
            valid: !t.length,
            passed: !t.length,
            invalid: !!t.length,
            failed: !!t.length,
            validated: !0,
            changed: this.value !== this.initialValue
          });
      },
      registerField: function() {
        var e, t, n;
        (t = (function(e) {
          if (e.vid) return e.vid;
          if (e.name) return e.name;
          if (e.id) return e.id;
          if (e.fieldName) return e.fieldName;
          return '_vee_' + ++ne;
        })((e = this))),
          (n = e.id),
          !e.isActive ||
            (n === t && e.$_veeObserver.refs[n]) ||
            (n !== t && e.$_veeObserver.refs[n] === e && e.$_veeObserver.unobserve(n),
            (e.id = t),
            e.$_veeObserver.observe(e));
      }
    }
  });
  var ie = [
      ['pristine', 'every'],
      ['dirty', 'some'],
      ['touched', 'some'],
      ['untouched', 'every'],
      ['valid', 'every'],
      ['invalid', 'some'],
      ['pending', 'some'],
      ['validated', 'every'],
      ['changed', 'some'],
      ['passed', 'every'],
      ['failed', 'some']
    ],
    ae = 0;
  t = t.extend({
    name: 'ValidationObserver',
    provide: function() {
      return { $_veeObserver: this };
    },
    inject: {
      $_veeObserver: {
        from: '$_veeObserver',
        default: function() {
          return this.$vnode.context.$_veeObserver || null;
        }
      }
    },
    props: {
      tag: { type: String, default: 'span' },
      vid: {
        type: String,
        default: function() {
          return 'obs_' + ae++;
        }
      },
      slim: { type: Boolean, default: !1 },
      disabled: { type: Boolean, default: !1 }
    },
    data: function() {
      return { id: '', refs: {}, observers: [], errors: {}, flags: ue(), fields: {} };
    },
    created: function() {
      var r = this;
      (this.id = this.vid), se(this);
      var e = m(function(e) {
        var t = e.errors,
          n = e.flags,
          e = e.fields;
        (r.errors = t), (r.flags = n), (r.fields = e);
      }, 16);
      this.$watch(le, e);
    },
    activated: function() {
      se(this);
    },
    deactivated: function() {
      oe(this);
    },
    beforeDestroy: function() {
      oe(this);
    },
    render: function(e) {
      var t,
        t = Q(
          this,
          y(y({}, (t = this).flags), {
            errors: t.errors,
            fields: t.fields,
            validate: t.validate,
            validateWithInfo: t.validateWithInfo,
            passes: t.handleSubmit,
            handleSubmit: t.handleSubmit,
            reset: t.reset
          })
        );
      return this.slim && t.length <= 1 ? t[0] : e(this.tag, { on: this.$listeners }, t);
    },
    methods: {
      observe: function(e, t) {
        'observer' !== (t = void 0 === t ? 'provider' : t)
          ? (this.refs = y(y({}, this.refs), (((t = {})[e.id] = e), t)))
          : this.observers.push(e);
      },
      unobserve: function(t, e) {
        if ('provider' === (e = void 0 === e ? 'provider' : e))
          return this.refs[t] ? void this.$delete(this.refs, t) : void 0;
        e = n(this.observers, function(e) {
          return e.id === t;
        });
        -1 !== e && this.observers.splice(e, 1);
      },
      validateWithInfo: function(e) {
        var e = (void 0 === e ? {} : e).silent,
          a = void 0 !== e && e;
        return l(this, void 0, void 0, function() {
          var t, n, r, i;
          return b(this, function(e) {
            switch (e.label) {
              case 0:
                return [
                  4,
                  Promise.all(
                    s(
                      f(this.refs)
                        .filter(function(e) {
                          return !e.disabled;
                        })
                        .map(function(e) {
                          return e[a ? 'validateSilent' : 'validate']().then(function(e) {
                            return e.valid;
                          });
                        }),
                      this.observers
                        .filter(function(e) {
                          return !e.disabled;
                        })
                        .map(function(e) {
                          return e.validate({ silent: a });
                        })
                    )
                  )
                ];
              case 1:
                return (
                  (r = e.sent()),
                  (t = r.every(function(e) {
                    return e;
                  })),
                  (i = le.call(this)),
                  (n = i.errors),
                  (r = i.flags),
                  (i = i.fields),
                  (this.errors = n),
                  (this.flags = r),
                  (this.fields = i),
                  [2, { errors: n, flags: r, fields: i, isValid: t }]
                );
            }
          });
        });
      },
      validate: function(e) {
        var e = (void 0 === e ? {} : e).silent,
          t = void 0 !== e && e;
        return l(this, void 0, void 0, function() {
          return b(this, function(e) {
            switch (e.label) {
              case 0:
                return [4, this.validateWithInfo({ silent: t })];
              case 1:
                return [2, e.sent().isValid];
            }
          });
        });
      },
      handleSubmit: function(t) {
        return l(this, void 0, void 0, function() {
          return b(this, function(e) {
            switch (e.label) {
              case 0:
                return [4, this.validate()];
              case 1:
                return e.sent() && t ? [2, t()] : [2];
            }
          });
        });
      },
      reset: function() {
        return s(f(this.refs), this.observers).forEach(function(e) {
          return e.reset();
        });
      },
      setErrors: function(n) {
        var r = this;
        Object.keys(n).forEach(function(e) {
          var t = r.refs[e];
          t && ((e = 'string' == typeof (e = n[e] || []) ? [e] : e), t.setErrors(e));
        }),
          this.observers.forEach(function(e) {
            e.setErrors(n);
          });
      }
    }
  });
  function oe(e) {
    e.$_veeObserver && e.$_veeObserver.unobserve(e.id, 'observer');
  }
  function se(e) {
    e.$_veeObserver && e.$_veeObserver.observe(e, 'observer');
  }
  function ue() {
    return y(y({}, h()), { valid: !0, invalid: !1 });
  }
  function le() {
    for (
      var n = s(
          f(this.refs),
          this.observers.filter(function(e) {
            return !e.disabled;
          })
        ),
        e = {},
        r = ue(),
        t = {},
        i = n.length,
        a = 0;
      a < i;
      a++
    ) {
      var o = n[a];
      Array.isArray(o.errors)
        ? ((e[o.id] = o.errors), (t[o.id] = y({ id: o.id, name: o.name, failedRules: o.failedRules }, o.flags)))
        : ((e = y(y({}, e), o.errors)), (t = y(y({}, t), o.fields)));
    }
    return (
      ie.forEach(function(e) {
        var t = e[0],
          e = e[1];
        r[t] = n[e](function(e) {
          return e.flags[t];
        });
      }),
      { errors: e, flags: r, fields: t }
    );
  }
  (e.ValidationObserver = t),
    (e.ValidationProvider = re),
    (e.configure = function(e) {
      E(e);
    }),
    (e.extend = function(e, t) {
      !(function(e, t) {
        if (!o(t) && !o(t.validate) && !$.getRuleDefinition(e))
          throw new Error("Extension Error: The validator '" + e + "' must be a function or have a 'validate' method.");
      })(e, t),
        'object' != typeof t ? $.extend(e, { validate: t }) : $.extend(e, t);
    }),
    (e.localeChanged = M),
    (e.localize = function(e, t) {
      var n;
      if (
        (N ||
          ((N = new T('en', {})),
          E({
            defaultMessage: function(e, t) {
              return N.resolve(e, null == t ? void 0 : t._rule_, t || {});
            }
          })),
        'string' == typeof e)
      )
        return (N.locale = e), t && N.merge((((n = {})[e] = t), n)), void M();
      N.merge(e);
    }),
    (e.normalizeRules = w),
    (e.setInteractionMode = function(e, t) {
      if ((E({ mode: e }), t)) {
        if (!o(t)) throw new Error('A mode implementation must be a function');
        q[e] = t;
      }
    }),
    (e.validate = I),
    (e.version = '3.2.5'),
    (e.withValidation = function(e, d) {
      void 0 === d && (d = p);
      var f = 'options' in e ? e.options : e,
        t = re.options,
        e = {
          name: (f.name || 'AnonymousHoc') + 'WithValidation',
          props: y({}, t.props),
          data: t.data,
          computed: y({}, t.computed),
          methods: y({}, t.methods),
          beforeDestroy: t.beforeDestroy,
          inject: t.inject
        },
        c = (null === (t = null == f ? void 0 : f.model) || void 0 === t ? void 0 : t.event) || 'input';
      return (
        (e.render = function(e) {
          this.registerField();
          var t = U(this),
            n = y({}, this.$listeners),
            r = W(this.$vnode);
          this._inputEventName = this._inputEventName || J(this.$vnode, r);
          var i = C(this.$vnode);
          X(this, null == i ? void 0 : i.value);
          var a = te(this),
            o = a.onInput,
            i = a.onBlur,
            s = a.onValidate;
          G(n, c, o),
            G(n, 'blur', i),
            this.normalizedEvents.forEach(function(e) {
              G(n, e, s);
            });
          var u,
            l,
            o = (L(this.$vnode) || { prop: 'value' }).prop,
            t = y(y(y({}, this.$attrs), (((i = {})[o] = null == r ? void 0 : r.value), i)), d(t));
          return e(
            f,
            { attrs: this.$attrs, props: t, on: n },
            ((u = this.$slots),
            (l = this.$vnode.context),
            Object.keys(u).reduce(function(e, t) {
              return (
                u[t].forEach(function(e) {
                  e.context || ((u[t].context = l), e.data || (e.data = {}), (e.data.slot = t));
                }),
                e.concat(u[t])
              );
            }, []))
          );
        }),
        e
      );
    }),
    Object.defineProperty(e, '__esModule', { value: !0 });
});
